TODO
---

* Update server sitemap file with Rentalfront servers.

* installHttpd
* installModsecurity
* installFarepayment adapt to installHttpd, installModsecurity

* Install all fp-servers..

* installRentalFront.py
* Install all rentalfront-servers.

* Refactor iptable.py, add a rule chain that can be controlled from other scripts?
  Or is it good as it is, so the iptables script are not dependent on other script

* Rename installFoTpInstall and all other relations to fo-tp
* Rename to syscon.
* Move from github to office svn.

* installHudson
* instalSonar

* Configure openvpn for ubuntu https://help.ubuntu.com/10.04/serverguide/C/openvpn.html

* Uninstall programs, modify version.cfg

* Install clam

* Iptable rules on fo-tp-install should be synced in iptables-setup

* Build report tool to check swap memory.
  A webserver should never ever have to swap, as swapping increases the latency
  of each request beyond a point that users consider "fast enough".
* Immunize all config files with "chattr +i xx", files that shouldn't be modified by anyone.
* semanage on all files we are using chcon on.
* Mask password that are written to the stdout.
* -f (force), will ignore the version.check_executed()
* Is the ram option in install.cfg working? gf computer hasn't enough memory.
* Set the linux root email address. The one that are emailed when for example sudo is executed without permission.
* Add right licence to all files. Add licence file to root folder.
* installOpenvpn, has the client openvpn certs a unique common name?
* installOpenvpn, harden openvpn, jailroot, ta.key, Unprivileged mode
  http://openvpn.net/index.php/open-source/documentation/howto.html#security
* Write installLDAP.py script.
* Add epel repo to fo-tp-install
  repo --name=lepel       --baseurl=http://10.0.0.1:81/yum-repos/epel/i386

* Harden kickstart files according to
  http://kickstart-maker.googlecode.com/svn-history/r20/trunk/kickstart.template
  http://kickstart-maker.googlecode.com/svn-history/r20/trunk/post/
* Harden according to, or later version.
  http://www.nsa.gov/ia/_files/os/redhat/rhel5-guide-i731.pdf
* Harden, remove/disable these services
  hplip,isdn,kudzu,xfs,nfs,xinetd,rhnsd,kdump,readahead_later,messagebus,haldaemon,apm
* Add user used by fosh, so it don't need to use root. Then prevent root ssh login.
  user --name=fosh --uid=500 --groups=wheel,root --password=nothingspecial
* Read http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Security_Guide/index.html

Future version
* Realtime stdout output from ssh functions.
* fosh remote-install, should loop and wait for all clients to become alive. Then run all commands on them.
* The guests should use the repos on the fo-tp-install.xï¿½
* The guest should be locally "firewalled" to not be able to reach out to anything
  more then they need. Only repo updates on fo-tp-install.
* Run "remote-install-deamon" on fo-tp-install.
* The remote-install deamon should check for changes in install.cfg.
* Add all output from fosh to a log file.
* Add "fosh remote-install" in kickstart for fo-tp-install
* Check cpu sensors (temp), IPMI??

CHANGELOG
---------
MAHE=Mattias Hemmingsson
DALI=Daniel Lindh

110210 DALI - Moving private files to private repo.:w
110207 DALI - Adding configuration of httpd and modsec for farepayment.
110205 DALI - Added allowed_udp chain to use with UDP rules for iptables.
110205 DALI - Added support for httpd and modsecurity for iptables.
110128 DALI - Version 1.0.0 of installFarepayment completed.
2011-02-03 - Daniel Lindh - Fixes in installFarepayment after previous refactoring.
2011-02-03 - Daniel Lindh - Bugfixing in glassfish installation after all refactoring.
2011-02-03 - Daniel Lindh - shell_exec didn't execute the command in the current working directory.
2011-02-03 - Daniel Lindh - download_file only need first argument, and will download the file to install dir
2011-02-03 - Daniel Lindh - Changed name of svn user to syscon.
2011-02-03 - Daniel Lindh - Saving passwords to file after they have been executed entered by user.
2011-02-03 - Daniel Lindh - Invalid use of variables in version.mark_executed(), crashed the program.
2011-02-03 - Daniel Lindh - Use the constants GLASSFISH_PATH, GLASSFISH_DOMAINS_PATH, GLASSFISH_START_SCRIPT_PATH everywhere.
2011-02-03 - Daniel Lindh - Replace /opt/fosh with app.FOSH_PATH in all files.
2011-02-03 - Daniel Lindh - Changed use of shell_exec to asadmin_exec
2011-02-01 - Daniel Lindh - Fixed the output of print_verbose and shell_exec.
2011-02-01 - Daniel Lindh - Replaced shell_exec with shell_exec_p everywhere in the code.
2011-02-01 - Daniel Lindh - Refactoring and comments in general.py.
2011-02-01 - Daniel Lindh - Some minor refactoring and commenting in app.py
2011-02-01 - Daniel Lindh - Fixed unused imports (found by netbeans)
2011-01-30 - Daniel Lindh - Refactoring the use off class Version.
2011-01-29 - Daniel Lindh - Refactoring and cleaning up the SSH code.
2001-01-29 - Daniel Lindh - Use PasswordStore everywhere in the code where passwords are used.
2011-01-29 - Daniel Lindh - Adding file header and comments to all fosh files.
2011-01-29 - Daniel Lindh - Added public and private command types, refactoring of code.

2011-01-28 - Daniel Lindh - Added git-clean command
2011-01-28 - Daniel Lindh - Version 1.0.0 of installFarepayment completed.
2011-01-28 - Daniel Lindh - Version 1.0.0 of PasswordStore completed.

2011-01-27 - Daniel Lindh - installFarepayment, create database, deploy ear
2011-01-27 - Daniel Lindh - installGlassfish.py script

2011-01-24 - Daniel Lindh - More secure configuration of NTP. (Still missing optimal iptables)

2011-01-23 - Daniel Lindh - Working draft of installNTP.py

2011-01-21 - Daniel Lindh - Draft of install-mysql
2011-01-21 - Daniel Lindh - setup_iptables for installMysql
2011-01-21 - Daniel Lindh - Working install-mysql
2011-01-21 - Daniel Lindh - Working install-mysql-replication.

2010-12-15 - Daniel Lindh - Install pexpect on all fosh servers.

2010-12-14 - Daniel Lindh - Write installVpn.py script to install openvpn.

2010-12-10 - Daniel Lindh - Indicate disk space to use for a guest in install.cfg
2010-12-10 - Daniel Lindh - Configure install.cfg to use all computers.
2010-12-10 - Daniel Lindh - Read "configuration" of which commands to use from the dir bin/fosh/fosh/
                            http://stackoverflow.com/questions/1057431/loading-all-modules-in-a-folder-in-python/1057765#1057765

2010-12-09 - Daniel Lindh - Install all servers with pxe.
2010-12-09 - Daniel Lindh -  Move dhcp to fo-tp-install
