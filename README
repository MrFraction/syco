Fareoffice Shell
A bunch of sysadmin functions used at Fareoffice.

CLONING
ssh-keygen -t rsa
cat ~/.ssh/id_rsa.pub
# Insert the output into www.github.com.
git clone git@github.com:arlukin/fosh.git

DOCUMENTATION
-------------

THE FLOW OF THE "fosh remote-install"

* Download fosh from git
* On fo-tp-vh01 "fosh remote-install fo-tp-vh01"
** On fo-tp-vh01 "fosh hardening"
** On fo-tp-vh01 "fosh install-kvmhost"
** On fo-tp-vh01 "fosh install-fo-tp-install"
** On fo-tp-vh01 "fosh install-guests"
*** On fo-tp-vh01, install fp-tp-system1
*** On fo-tp-vh01, install fp-tp-gf
** On fo-tp-install "fosh git-clone"
** On fo-tp-install "fosh hardening"
** On fo-tp-install "fosh install-cobbler"
** On fo-tp-install "fosh remote-install"
*** Look for alive hosts defined in install.cfg
*** Run "fosh remote-install xx" on the host alive.
*** Continue until "remote-install" has been executed on all servers. 

TODO
---

This version
* Write installGlassfish.py script
* Write installMysql.py script
* Write installWeb.py script
* Write installVpn.py script
  
Future version  
* Realtime stdout output from ssh functions.
* fosh remote-install, should loop and wait for all clients to become alive. Then run all commands on them.
* The guests should use the repos on the fo-tp-install.
* The guest should be locally "firewalled" to not be able to reach out to anything
  more then they need. Only repo updates on fo-tp-install.
* Run "remote-install-deamon" on fo-tp-install.
* The remote-install deamon should check for changes in install.cfg.
* Add all output from fosh to a log file.
* Add "fosh remote-install" in kickstart for fo-tp-install
* Check cpu sensors (temp), IPMI??

CHANGELOG
---------
2010-12-10
# Indicate disk space to use for a guest in install.cfg
# Configure install.cfg to use all computers.
# Read "configuration" of which commands to use from the dir bin/fosh/fosh/
  http://stackoverflow.com/questions/1057431/loading-all-modules-in-a-folder-in-python/1057765#1057765

2010-12-09
# Install all servers with pxe.
# Move dhcp to fo-tp-install
